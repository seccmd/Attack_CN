---
hide:
  - toc
---

# 陷阱

对手可能通过执行由中断信号触发的恶意内容来建立持久性。<code>trap</code> 命令允许程序和 shell 指定在收到中断信号时将执行的命令。一个常见的情况是脚本允许优雅终止和处理常见的键盘中断，如 <code>ctrl+c</code> 和 <code>ctrl+d</code>。  对手可以使用此命令注册代码，以便在 shell 遇到特定中断时执行，作为持久性机制。陷阱命令的格式为 <code>trap '命令列表' 信号</code>，其中“命令列表”将在收到“信号”时执行。（引用：Trap 手册）（引用：Cyberciti Trap 语句）
